webpackJsonp([6],{518:function(t,e,a){var n=a(200)(a(538),a(562),null,null);t.exports=n.exports},524:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var n=[],i=[],l=window.SMALL_BLACK_CONFIG._DomainName1,r=window.SMALL_BLACK_CONFIG._DomainName2,o=(window.SMALL_BLACK_CONFIG._DEBUG,window.SMALL_BLACK_CONFIG._PRODUCT);n[0]=l+"/ola/api/merchant/queryList",i[0]="/api/merchant/queryList/",n[1]=l+"/ola/api/merchant/delete/",i[1]="/api/merchant/common/",n[2]=l+"/ola/merchant/queryById/",i[2]="/api/merchant/queryById/",n[3]=l+"/ola/api/merchant/update/",i[3]="/api/merchant/common/",n[4]=l+"/ola/api/merchant/add",i[4]="/api/merchant/common/",n[5]=r+"/olf/api/contract/queryList/",i[5]="/api/contract/queryList/",n[6]=r+"/olf/api/loan/queryList",i[6]="/api/loan/queryList/",n[7]=r+"/olf/api/repay/queryList",i[7]="/api/repay/queryList",n[8]=r+"/olf/api/repay/queryList",i[8]="/api/repaymentPlan/queryList","DEV"==o&&(n=i)},538:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(524),i=n.a;e.default={data:function(){return{tableData:[],cur_page:1,select_word:"",total:0,is_loading:!1}},created:function(){var t=parseInt(this.$route.query.cur_page,10)||1;this.cur_page=t,this.getData()},methods:{handleCurrentChange:function(t){this.cur_page=t,this.getData()},getData:function(){var t=this,e=this,a={merchantName:e.select_word,start:10*(e.cur_page-1),limit:10};e.$axios.post(i[0],a).then(function(t){e.tableData=t.data.data.rows,e.total=t.data.count||0,e.is_loading=!1}).catch(function(e){t.$alert(e,"错误提示",{confirmButtonText:"确定",callback:function(t){}})})},search:function(){this.is_loading=!0,this.getData()},formatter:function(t,e){return t.channelRate},handleEdit:function(t,e){this.$router.push({path:"/merchant",query:{id:e.id,cur_page:this.cur_page}})},handleDeleteWarning:function(t,e){var a=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.handleDelete(t,e)}).catch(function(){})},handleDelete:function(t,e){var a=this;this.is_loading=!0;var n={id:e.id};this.$axios.post(i[1],n).then(function(n){a.$message.success("删除了"+e.merchantName),a.tableData.splice(t,1),a.is_loading=!1}).catch(function(t){a.is_loading=!0})},addMerchant:function(){this.$router.push("/merchant")},handleEnable:function(t,e){console.log(e),this.$message.error("启用或是停用了:"+e.merchantName),this.tableData[t].state=Math.abs(e.state-1)}}}},562:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.is_loading,expression:"is_loading"}],staticClass:"table",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),t._v("商户管理")]),t._v(" "),a("el-breadcrumb-item",[t._v("商户信息管理")])],1)],1),t._v(" "),a("div",{staticClass:"handle-box"},[a("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.addMerchant}},[t._v("新增")]),t._v(" "),a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"姓名或是商户名称搜索"},model:{value:t.select_word,callback:function(e){t.select_word=e},expression:"select_word"}}),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:t.search}},[t._v("搜索")])],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"ID",sortable:"",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"contactName",label:"姓名",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"merchantName",label:"商户名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"contactPhone",label:"手机号码"}}),t._v(" "),a("el-table-column",{attrs:{label:"启用状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(0==e.row.state?"停用":"启用")+"\n              ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"channelRate",label:"服务费",width:"120",formatter:t.formatter}}),t._v(" "),a("el-table-column",{attrs:{prop:"bail",label:"保证金",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"bailThreshold",label:"保证金阀值",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){t.handleDeleteWarning(e.$index,e.row)}}},[t._v("删除")]),t._v(" "),a("el-button",{attrs:{size:"small",type:0==e.row.state?"warning":"success"},on:{click:function(a){t.handleEnable(e.$index,e.row)}}},[t._v(t._s(0==e.row.state?"停用":"启用"))])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"prev, pager, next","page-size":10,total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]}}});