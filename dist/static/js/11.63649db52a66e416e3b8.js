webpackJsonp([11],{510:function(t,a,e){var o=e(199)(e(530),e(551),null,null);t.exports=o.exports},522:function(t,a,e){"use strict";e.d(a,"a",function(){return o});var o=[],l=[],i=window.SMALL_BLACK_CONFIG._DomainName1,r=window.SMALL_BLACK_CONFIG._DomainName2,n=window.SMALL_BLACK_CONFIG._DomainName3,s=(window.SMALL_BLACK_CONFIG._DEBUG,window.SMALL_BLACK_CONFIG._PRODUCT);o[0]=i+"/ola/api/merchant/queryList",l[0]="/api/merchant/queryList/",o[1]=i+"/ola/api/merchant/delete/",l[1]="/api/merchant/common/",o[2]=i+"/ola/api/merchant/queryById/",l[2]="/api/merchant/queryById/",o[3]=i+"/ola/api/merchant/update/",l[3]="/api/merchant/common/",o[4]=i+"/ola/api/merchant/add",l[4]="/api/merchant/common/",o[5]=r+"/olf/api/contract/queryList/",l[5]="/api/contract/queryList/",o[6]=r+"/olf/api/loan/queryList",l[6]="/api/loan/queryList/",o[7]=r+"/olf/api/repay/queryList",l[7]="/api/repay/queryList",o[8]=r+"/olf/api/repay/queryList",l[8]="/api/repaymentPlan/queryList",o[9]=i+"/ola/api//merchant/status",l[9]="/api/merchant/common/",o[10]=n+"/back/account/view",l[10]="./static/data/account.json",o[11]=n+"/back/account/magrin/query",l[11]="./static/data/bail.json",o[12]=n+"/back/account/interest/fee/query",l[12]="./static/data/repayment.json",o[13]=n+"/back/account/margin/recharge",l[13]="./static/data/recharge.json",o[14]=n+"/back/account/margin/postal",l[14]="./static/data/postal.json",o[15]=n+"/back/account/interest/fee/postal",l[15]="./static/data/interestfee_postal.json",o[16]=n+"/back/account/change/record/query",l[16]="./static/data/history.json",o[17]=n+"/back/account/change/supply",l[17]="/api/merchant/common/","DEV"==s&&(o=l)},530:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=e(522),l=o.a,i=["","增加","减少","冻结","解冻"];a.default={data:function(){return{tableData:[],cur_page:1,select_word:"",total:20,is_loading:!1,is_loading2:!1,dialogFormVisible:!1,dialogFillVisible:!1,dialogHistoryVisible:!1,form:{amount:0,merchantId:0,totalAmount:0,availableAmount:0,frozenAmount:0},formLabelWidth:"150px",gridData:[]}},created:function(){this.getData()},methods:{handleCurrentChange:function(t){this.cur_page=t,this.getData()},getData:function(){var t=this,a=this,e={selectWord:a.select_word,start:10*(a.cur_page-1),limit:10};a.$axios.get(l[11],{params:e}).then(function(t){a.tableData=t.data.data.rows,a.total=t.data.data.count||0,a.is_loading=!1}).catch(function(a){t.$alert(a,"错误提示",{confirmButtonText:"确定",callback:function(t){}})})},search:function(){this.is_loading=!0,this.getData()},formatter:function(t,a){return i[t.changeType]},handleButton:function(t,a,e){this.form.amount=0,this.form.merchantId=a.merchantId,this.form.totalAmount=a.totalAmount,this.form.availableAmount=a.availableAmount,this.form.frozenAmount=a.frozenAmount,1==e?this.dialogFormVisible=!0:2==e?this.dialogFillVisible=!0:3==e&&(this.dialogHistoryVisible=!0,this.historyInfo(a.merchantId))},serialBumber:function(t,a,e){var o=this,i=1==e?"备注":"流水";this.$prompt("请输入"+a.merchantName+i,"提示",{confirmButtonText:"确定",inputPlaceholder:"流水号由数字组成",cancelButtonText:"取消",inputErrorMessage:"格式不正确，应该由2-20位数字和字符组成"}).then(function(i){var r=i.value,n={id:a.id,remark:1==e?r:"",supplySerialNum:2==e?r:""};o.$axios.post(l[17],n).then(function(a){1==e?o.gridData[t].remark=r:o.gridData[t].supplySerialNum=r,o.$message({type:"success",message:"恭喜您操作成功! "})}).catch(function(t){o.$alert(t,"错误提示",{confirmButtonText:"确定"})})}).catch(function(){o.$message({type:"info",message:"您取消了操作"})})},CheckAmount:function(){this.dialogFormVisible&&this.form.amount&&this.form.availableAmount-this.form.amount<0&&this.$message({type:"error",message:"提取额度过大，产生负数了."})},rechargeOrPostal:function(t){var a=this,e=void 0;if(1==t?(this.dialogFormVisible=!1,e=l[14]):2==t&&(this.dialogFillVisible=!1,e=l[13]),e&&this.form.amount){var o={merchantId:this.form.merchantId,amount:this.form.amount,operatorId:0,operatorName:localStorage.getItem("ms_username")};this.$axios.post(e,o).then(function(t){a.$message({type:"success",message:"恭喜，操作成功."}),a.getData()}).catch(function(t){a.$alert(t,"错误提示",{confirmButtonText:"确定"})})}},historyInfo:function(t){var a=this;this.is_loading2=!0;var e={merchantId:t,accountType:1},o=this;o.$axios.get(l[16],{params:e}).then(function(t){o.gridData=t.data.data.rows,a.is_loading2=!1}).catch(function(t){a.is_loading2=!1,a.$alert(t,"错误提示",{confirmButtonText:"确定",callback:function(t){}})})}}}},551:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.is_loading,expression:"is_loading"}],staticClass:"table",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[e("div",{staticClass:"crumbs"},[e("el-breadcrumb",{attrs:{separator:"/"}},[e("el-breadcrumb-item",[e("i",{staticClass:"el-icon-menu"}),t._v("账户管理")]),t._v(" "),e("el-breadcrumb-item",[t._v("保证金账户管理")])],1)],1),t._v(" "),e("div",{staticClass:"handle-box"},[e("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"输入商户ID或商户名称搜索"},model:{value:t.select_word,callback:function(a){t.select_word=a},expression:"select_word"}}),t._v(" "),e("el-button",{attrs:{type:"primary",icon:"search"},on:{click:t.search}},[t._v("搜索")])],1),t._v(" "),e("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[e("el-table-column",{attrs:{label:"序号",sortable:"",width:"100"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v(t._s(a.$index+1))]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"merchantId",label:"商户ID",width:"120"}}),t._v(" "),e("el-table-column",{attrs:{prop:"merchantName",label:"商户名称"}}),t._v(" "),e("el-table-column",{attrs:{prop:"totalAmount",label:"保证金总额",width:"100"}}),t._v(" "),e("el-table-column",{attrs:{prop:"availableAmount",label:"可提金额",width:"100"}}),t._v(" "),e("el-table-column",{attrs:{prop:"frozenAmount",label:"冻结金额",width:"100"}}),t._v(" "),e("el-table-column",{attrs:{prop:"updateTime",label:"更新时间",width:"160"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作",width:"280"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){t.handleButton(a.$index,a.row,1)}}},[t._v("提现")]),t._v(" "),e("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){t.handleButton(a.$index,a.row,2)}}},[t._v("充值")]),t._v(" "),e("el-button",{attrs:{size:"small",type:"default"},on:{click:function(e){t.handleButton(a.$index,a.row,3)}}},[t._v("历史记录")])]}}])})],1),t._v(" "),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{layout:"prev, pager, next","page-size":10,total:t.total},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),e("el-dialog",{attrs:{title:"提现",visible:t.dialogFormVisible,width:"40%"},on:{"update:visible":function(a){t.dialogFormVisible=a}}},[e("el-form",{attrs:{model:t.form}},[e("el-form-item",{attrs:{label:"提现金额：","label-width":t.formLabelWidth,size:"small",prop:"amount",rules:[{type:"number",message:"提现金额必须为数字值"}]}},[e("el-input",{attrs:{"auto-complete":"off",blur:this.CheckAmount()},model:{value:t.form.amount,callback:function(a){t.$set(t.form,"amount",t._n(a))},expression:"form.amount"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"原可提保证金金额：","label-width":t.formLabelWidth}},[t._v(t._s(t.form.totalAmount))]),t._v(" "),e("el-form-item",{attrs:{label:"提现后可提金额：","label-width":t.formLabelWidth}},[t._v(t._s(t.form.availableAmount-t.form.amount))]),t._v(" "),e("el-form-item",{attrs:{label:"冻结金融：","label-width":t.formLabelWidth}},[t._v(t._s(t.form.frozenAmount))]),t._v(" "),e("el-form-item",{attrs:{label:"提现后保证总额：","label-width":t.formLabelWidth}},[t._v(t._s(t.form.totalAmount-t.form.amount))])],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(a){t.rechargeOrPostal(1)}}},[t._v("确 定")])],1)],1),t._v(" "),e("el-dialog",{attrs:{title:"充值",visible:t.dialogFillVisible,width:"40%"},on:{"update:visible":function(a){t.dialogFillVisible=a}}},[e("el-form",{attrs:{model:t.form}},[e("el-form-item",{attrs:{label:"充值金额：","label-width":t.formLabelWidth,prop:"amount",rules:[{type:"number",message:"充值金额必须为数字值"}]}},[e("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.amount,callback:function(a){t.$set(t.form,"amount",t._n(a))},expression:"form.amount"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"原保证金金额：","label-width":t.formLabelWidth}},[t._v(t._s(t.form.totalAmount))]),t._v(" "),e("el-form-item",{attrs:{label:"充值后可提金额：","label-width":t.formLabelWidth}},[t._v(t._s(t.form.availableAmount+t.form.amount))]),t._v(" "),e("el-form-item",{attrs:{label:"冻结金融：","label-width":t.formLabelWidth}},[t._v(t._s(t.form.frozenAmount))]),t._v(" "),e("el-form-item",{attrs:{label:"充值后保证总额：","label-width":t.formLabelWidth}},[t._v(t._s(t.form.totalAmount+t.form.amount))])],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.dialogFillVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(a){t.rechargeOrPostal(2)}}},[t._v("确 定")])],1)],1),t._v(" "),e("el-dialog",{attrs:{title:"历史记录",visible:t.dialogHistoryVisible,width:"80%"},on:{"update:visible":function(a){t.dialogHistoryVisible=a}}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.is_loading2,expression:"is_loading2"}],attrs:{data:t.gridData,height:"450",border:"","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.7)"}},[e("el-table-column",{attrs:{property:"id",label:"序号",width:"80"}}),t._v(" "),e("el-table-column",{attrs:{property:"merchantName",label:"商户名称",width:"100"}}),t._v(" "),e("el-table-column",{attrs:{property:"changeAmount",label:"提现/充值金额"}}),t._v(" "),e("el-table-column",{attrs:{property:"changeType",label:"交易类型",formatter:t.formatter}}),t._v(" "),e("el-table-column",{attrs:{property:"amountBefore",label:"原保证金金额"}}),t._v(" "),e("el-table-column",{attrs:{property:"amountAfter",label:"充值/提现后保证金金额"}}),t._v(" "),e("el-table-column",{attrs:{property:"updateTime",label:"提现/充值时间"}}),t._v(" "),e("el-table-column",{attrs:{property:"operatorName",label:"操作人"}}),t._v(" "),e("el-table-column",{attrs:{property:"supplySerialNum",label:"流水号"}}),t._v(" "),e("el-table-column",{attrs:{property:"remark",label:"备注"}}),t._v(" "),e("el-table-column",{attrs:{label:"操作",width:"200",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){t.serialBumber(a.$index,a.row,1)}}},[t._v("添加备注")]),t._v(" "),e("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){t.serialBumber(a.$index,a.row,2)}}},[t._v("录入流水")])]}}])})],1)],1)],1)},staticRenderFns:[]}}});