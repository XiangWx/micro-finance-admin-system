webpackJsonp([11],{512:function(t,e,a){var o=a(200)(a(532),a(554),null,null);t.exports=o.exports},524:function(t,e,a){"use strict";a.d(e,"a",function(){return o});var o=[],l=[],i=window.SMALL_BLACK_CONFIG._DomainName1,r=window.SMALL_BLACK_CONFIG._DomainName2,n=window.SMALL_BLACK_CONFIG._DomainName3,s=(window.SMALL_BLACK_CONFIG._DEBUG,window.SMALL_BLACK_CONFIG._PRODUCT);o[0]=i+"/ola/api/merchant/queryList",l[0]="/api/merchant/queryList/",o[1]=i+"/ola/api/merchant/delete/",l[1]="/api/merchant/common/",o[2]=i+"/ola/merchant/queryById/",l[2]="/api/merchant/queryById/",o[3]=i+"/ola/api/merchant/update/",l[3]="/api/merchant/common/",o[4]=i+"/ola/api/merchant/add",l[4]="/api/merchant/common/",o[5]=r+"/olf/api/contract/queryList/",l[5]="/api/contract/queryList/",o[6]=r+"/olf/api/loan/queryList",l[6]="/api/loan/queryList/",o[7]=r+"/olf/api/repay/queryList",l[7]="/api/repay/queryList",o[8]=r+"/olf/api/repay/queryList",l[8]="/api/repaymentPlan/queryList",o[9]=i+"/ola/api//merchant/status",l[9]="/api/merchant/common/",o[10]=n+"/account/main/view",l[10]="./static/data/account.json",o[11]=n+"/margin/account/query",l[11]="./static/data/bail.json",o[12]=n+"/interestfee/account/query",l[12]="./static/data/repayment.json",o[13]=n+"/margin/account/recharge",l[13]="./static/data/recharge.json",o[14]=n+"/margin/account/postal",l[14]="./static/data/postal.json",o[15]=n+"/interestfee/account/postal",l[15]="./static/data/interestfee_postal.json",o[16]=n+"/account/change/record/query",l[16]="./static/data/history.json","DEV"==s&&(o=l)},532:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a(524),l=o.a,i=["","增加","减少","冻结","解冻"];e.default={data:function(){return{tableData:[],cur_page:1,select_word:"",total:20,is_loading:!1,is_loading2:!1,dialogFormVisible:!1,dialogFillVisible:!1,dialogHistoryVisible:!1,form:{amount:0,merchantId:0,totalAmount:0,avaliableAmount:0,freezeAmount:0},formLabelWidth:"150px",gridData:[]}},created:function(){this.getData()},methods:{handleCurrentChange:function(t){this.cur_page=t,this.getData()},getData:function(){var t=this,e=this,a={select_word:e.select_word,merchantId:e.select_word,start:10*(e.cur_page-1),limit:10};e.$axios.get(l[11],{params:a}).then(function(t){e.tableData=t.data.data.rows,e.total=t.data.data.count||0,e.is_loading=!1}).catch(function(e){t.$alert(e,"错误提示",{confirmButtonText:"确定",callback:function(t){}})})},search:function(){this.is_loading=!0,this.getData()},formatter:function(t,e){return i[t.changeType]},handleButton:function(t,e,a){this.form.amount=0,this.form.merchantId=e.merchantId,this.form.totalAmount=e.totalAmount,this.form.avaliableAmount=e.avaliableAmount,this.form.freezeAmount=e.freezeAmount,1==a?this.dialogFormVisible=!0:2==a?this.dialogFillVisible=!0:3==a&&(this.dialogHistoryVisible=!0,this.historyInfo(e.merchantId))},serialBumber:function(t,e){var a=this;this.$prompt("请输入"+e.name+"流水","提示",{confirmButtonText:"确定",inputPlaceholder:"流水号由数字组成",cancelButtonText:"取消",inputPattern:/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{2,20}$/,inputErrorMessage:"格式不正确，应该由2-20位数字和字符组成"}).then(function(t){var e=t.value;a.$message({type:"success",message:"你的流水号: "+e})}).catch(function(){a.$message({type:"info",message:"取消输入"})})},CheckAmount:function(){this.dialogFormVisible&&this.form.amount&&this.form.avaliableAmount-this.form.amount<0&&this.$message({type:"error",message:"提取额度过大，产生负数了."})},rechargeOrPostal:function(t){var e=this,a=void 0;if(1==t?(this.dialogFormVisible=!1,a=l[14]):2==t&&(this.dialogFillVisible=!1,a=l[13]),a&&this.form.amount){var o={merchantId:this.form.merchantId,amount:this.form.amount,operatorId:0,operatorName:localStorage.getItem("ms_username")};this.$axios.post(a,o).then(function(t){e.$message({type:"success",message:"恭喜，操作成功."}),e.getData()}).catch(function(t){e.$alert(t,"错误提示",{confirmButtonText:"确定"})})}},historyInfo:function(t){var e=this;this.is_loading2=!0;var a={merchantId:t,accountType:1},o=this;o.$axios.get(l[16],{params:a}).then(function(t){o.gridData=t.data.data.rows,e.is_loading2=!1}).catch(function(t){e.is_loading2=!1,e.$alert(t,"错误提示",{confirmButtonText:"确定",callback:function(t){}})})}}}},554:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.is_loading,expression:"is_loading"}],staticClass:"table",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),t._v("账户管理")]),t._v(" "),a("el-breadcrumb-item",[t._v("保证金账户管理")])],1)],1),t._v(" "),a("div",{staticClass:"handle-box"},[a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"输入商户ID或商户名称搜索"},model:{value:t.select_word,callback:function(e){t.select_word=e},expression:"select_word"}}),t._v(" "),a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:t.search}},[t._v("搜索")])],1),t._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{label:"序号",sortable:"",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.$index+1))]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"merchantId",label:"商户ID",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"merchantName",label:"商户名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalAmount",label:"保证金总额",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"avaliableAmount",label:"可提金额",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"freezeAmount",label:"冻结金额",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"updateTime",label:"更新时间",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"280"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){t.handleButton(e.$index,e.row,1)}}},[t._v("提现")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){t.handleButton(e.$index,e.row,2)}}},[t._v("充值")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"default"},on:{click:function(a){t.handleButton(e.$index,e.row,3)}}},[t._v("历史记录")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"prev, pager, next","page-size":10,total:t.total},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-dialog",{attrs:{title:"提现",visible:t.dialogFormVisible,width:"40%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"提现金额：","label-width":t.formLabelWidth,size:"small",prop:"amount",rules:[{type:"number",message:"提现金额必须为数字值"}]}},[a("el-input",{attrs:{"auto-complete":"off",blur:this.CheckAmount()},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",t._n(e))},expression:"form.amount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"原可提保证金金额：","label-width":t.formLabelWidth}},[t._v(t._s(t.form.totalAmount))]),t._v(" "),a("el-form-item",{attrs:{label:"提现后可提金额：","label-width":t.formLabelWidth}},[t._v(t._s(t.form.avaliableAmount-t.form.amount))]),t._v(" "),a("el-form-item",{attrs:{label:"冻结金融：","label-width":t.formLabelWidth}},[t._v(t._s(t.form.freezeAmount))]),t._v(" "),a("el-form-item",{attrs:{label:"提现后保证总额：","label-width":t.formLabelWidth}},[t._v(t._s(t.form.totalAmount-t.form.amount))])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.rechargeOrPostal(1)}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"充值",visible:t.dialogFillVisible,width:"40%"},on:{"update:visible":function(e){t.dialogFillVisible=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{label:"充值金额：","label-width":t.formLabelWidth,prop:"amount",rules:[{type:"number",message:"充值金额必须为数字值"}]}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",t._n(e))},expression:"form.amount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"原保证金金额：","label-width":t.formLabelWidth}},[t._v(t._s(t.form.totalAmount))]),t._v(" "),a("el-form-item",{attrs:{label:"充值后可提金额：","label-width":t.formLabelWidth}},[t._v(t._s(t.form.avaliableAmount+t.form.amount))]),t._v(" "),a("el-form-item",{attrs:{label:"冻结金融：","label-width":t.formLabelWidth}},[t._v(t._s(t.form.freezeAmount))]),t._v(" "),a("el-form-item",{attrs:{label:"充值后保证总额：","label-width":t.formLabelWidth}},[t._v(t._s(t.form.totalAmount+t.form.amount))])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFillVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.rechargeOrPostal(2)}}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"历史记录",visible:t.dialogHistoryVisible,width:"80%"},on:{"update:visible":function(e){t.dialogHistoryVisible=e}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.is_loading2,expression:"is_loading2"}],attrs:{data:t.gridData,height:"450",border:"","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.7)"}},[a("el-table-column",{attrs:{property:"id",label:"序号",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{property:"merchantName",label:"商户名称",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{property:"changeAmount",label:"提现/充值金额"}}),t._v(" "),a("el-table-column",{attrs:{property:"changeType",label:"交易类型",formatter:t.formatter}}),t._v(" "),a("el-table-column",{attrs:{property:"amountBefore",label:"原保证金金额"}}),t._v(" "),a("el-table-column",{attrs:{property:"amountAfter",label:"充值/提现后保证金金额"}}),t._v(" "),a("el-table-column",{attrs:{property:"updateTime",label:"提现/充值时间"}}),t._v(" "),a("el-table-column",{attrs:{property:"operatorName",label:"操作人"}}),t._v(" "),a("el-table-column",{attrs:{property:"addSerialNum",label:"流水号"}}),t._v(" "),a("el-table-column",{attrs:{property:"remark",label:"备注"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){t.serialBumber(e.$index,e.row)}}},[t._v(t._s(e.row.serialNumer?e.row.serialNumer:"添加备注"))]),t._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){t.serialBumber(e.$index,e.row)}}},[t._v(t._s(e.row.serialNumer?e.row.serialNumer:"录入流水"))])]}}])})],1)],1)],1)},staticRenderFns:[]}}});